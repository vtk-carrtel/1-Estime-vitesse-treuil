# Project Overview
This project analyzes depth sounder data collected from Lake Leman and Lake Bourget. The primary goal is to process this data to estimate the ascent and descent speeds of the sounder equipment.

# Repository Structure
*   `data/`: Contains raw CSV data from depth sounder probes for Lake Leman (`Sonde_Profondeur-Leman/`) and Lake Bourget (`Sonde_Profondeur-Bourget/`).
*   `output/`: Stores processed data, including individual analysis results (CSVs and plots per input file), combined results for each lake, and a final comparison boxplot.
*   Scripts (root directory): Python scripts (`1-estimate-vitesse.py`, `2-stats-all.py`, `3-boxplot.py`) and a Jupyter Notebook (`estimate-vitesse.ipynb`) for data processing and analysis.

# Scripts and Notebook
### `1-estimate-vitesse.py`
*   **Purpose:** Processes individual raw CSV data files from the `data/` directory. It detects the ascent and descent phases of the depth sounder, calculates their slopes (speeds), and identifies the most linear segment of these slopes.
*   **Inputs:** Raw CSV files from `data/Sonde_Profondeur-Leman/` and `data/Sonde_Profondeur-Bourget/`.
*   **Outputs:** 
    *   Individual CSV files in `output/` for each input file, containing calculated slope data (e.g., `result_Leman_DATE.csv`).
    *   Individual PNG plot files in `output/` for each input file, visualizing the raw and smoothed depth data and the detected slopes (e.g., `plot_Leman_DATE.png`).

### `2-stats-all.py`
*   **Purpose:** Aggregates the individual result CSVs (generated by `1-estimate-vitesse.py`) for each lake and calculates overall statistics.
*   **Inputs:** Individual result CSVs from the `output/` directory.
*   **Outputs:**
    *   Combined CSV file for Lake Leman (`output/combined_results_Leman.csv`).
    *   Combined CSV file for Lake Bourget (`output/combined_results_Bourget.csv`).
    *   Prints mean, standard deviation, minimum, and maximum values for `inc_slope` and `dec_slope` for each lake to the console.
*   **Note:** This script currently uses an absolute path to the `output/` directory. For portability, you might need to adjust the `output_dir` variable in the script to be relative (e.g., `output_dir = "output/"`).

### `3-boxplot.py`
*   **Purpose:** Generates boxplots to compare the ascent and descent slopes between Lake Leman and Lake Bourget, and prints summary statistics.
*   **Inputs:** Combined result CSVs (`output/combined_results_Leman.csv` and `output/combined_results_Bourget.csv`).
*   **Outputs:**
    *   A PNG file (`output/slopes_boxplot_with_summary.png`) containing the boxplots.
    *   Prints median, minimum, and maximum slope values for each lake to the console.

### `estimate-vitesse.ipynb`
*   **Purpose:** A Jupyter Notebook that appears to provide similar functionality to `1-estimate-vitesse.py`. It can be used for interactive data exploration and initial processing of individual data files.
*   **Inputs:** Raw CSV files from the `data/` directory.
*   **Outputs:** Similar to `1-estimate-vitesse.py`, it can display plots and dataframes within the notebook environment.

# Data Flow
The data processing pipeline is as follows:
1.  Raw depth sounder data (CSV files) are stored in the `data/Sonde_Profondeur-Leman/` and `data/Sonde_Profondeur-Bourget/` directories.
2.  `1-estimate-vitesse.py` reads these raw CSVs, performs an analysis to estimate ascent/descent speeds, and saves the results as individual CSV files and PNG plots in the `output/` directory.
3.  `2-stats-all.py` takes these individual result CSVs from `output/`, combines them into two main CSV files (one for Leman, one for Bourget) named `combined_results_Leman.csv` and `combined_results_Bourget.csv` respectively, also stored in `output/`. This script also prints summary statistics to the console.
4.  `3-boxplot.py` uses the combined CSV files (`combined_results_Leman.csv` and `combined_results_Bourget.csv`) to generate a comparative boxplot of the slopes for both lakes. The resulting plot is saved as `slopes_boxplot_with_summary.png` in the `output/` directory, and a statistical summary is printed to the console.

The Jupyter Notebook `estimate-vitesse.ipynb` can be used as an alternative to `1-estimate-vitesse.py` for processing and visualizing individual files interactively.

# How to Run
**1. Prerequisites:**
*   Python 3.x
*   The following Python libraries (can be installed via pip):
    *   pandas
    *   numpy
    *   matplotlib
    *   seaborn (used in the Jupyter Notebook)

**2. Execution Order:**
To perform the full analysis, run the scripts in the following order from the root directory of the project:

   ```bash
   python 1-estimate-vitesse.py
   python 2-stats-all.py
   python 3-boxplot.py
   ```

*   **`1-estimate-vitesse.py`**: This will process all raw CSV files in the `data/` subdirectories and generate individual result CSVs and plots in the `output/` directory.
*   **`2-stats-all.py`**: This script will then take the output from the first script, combine the results for each lake, and save them as `combined_results_Leman.csv` and `combined_results_Bourget.csv` in the `output/` directory. It will also print statistics to your console.
*   **`3-boxplot.py`**: Finally, this script will use the combined CSVs to generate `slopes_boxplot_with_summary.png` in `output/` and print a summary to the console.

**3. Using the Jupyter Notebook:**
Alternatively, you can use the `estimate-vitesse.ipynb` Jupyter Notebook for a more interactive approach to the initial data processing and visualization steps (similar to `1-estimate-vitesse.py`). Ensure you have Jupyter Notebook or JupyterLab installed to run it.

# Contributing
Contributions to this project are welcome. If you find any issues or have suggestions for improvements, please feel free to:
*   Open an issue in the repository.
*   Fork the repository and submit a pull request with your changes.
